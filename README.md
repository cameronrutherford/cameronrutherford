# Personal Website

- [About](#about)
- [Quick Start](#quick-start)
- [Dev Container Configuration](#dev-container-configuration)
- [Quarto Configuration](#quarto-configuration)
  - [Workflow](#workflow)
  - [Output Formats](#output-formats)
  - [Extensions](#extensions)
    - [Extension List](#extension-list)
- [GitHub Pages Configuration](#github-pages-configuration)
  - [Initial Config](#initial-config)

## About

This document is generated by `personal-repo.qmd`.

I render this using [Quarto](https://quarto.org/), and build with
[VSCode](https://vscode.dev/) using a [Development
Container](https://containers.dev/).

This serves as my resume, blog, and self-referential documentation!

## Quick Start

Install [Docker](https://www.docker.com/), VSCode, and configure the
[Dev Container
Extension](https://code.visualstudio.com/docs/devcontainers/containers).
Then using the command pallette, build the container and open this
folder.

## Dev Container Configuration

I used Python as the base image, and then install Quarto in the
Dockerfile:

``` Dockerfile
# Lets use the latest Python (3.11 was latest at the time)
# https://github.com/devcontainers/images/tree/main/src/python
FROM mcr.microsoft.com/devcontainers/python:3.11-bookworm

# Install quarto
RUN wget https://github.com/quarto-dev/quarto-cli/releases/download/v1.4.251/quarto-1.4.251-linux-amd64.tar.gz
RUN tar -xvzf quarto-1.4.251-linux-amd64.tar.gz
# I don't really like how this works, but it works...
ENV PATH=$PATH:/quarto-1.4.251/bin
```

And this is my json config:

``` json
{
    "build": {
        "dockerfile": "Dockerfile"
	},
	"customizations": {
		"vscode": {
			"extensions": [
				"quarto.quarto"
			]
		}
	}
}
```

## Quarto Configuration

### Workflow

Build and render the project using:

``` bash
quarto render && quarto preview
```

<div>

> **Tip**
>
> This assumes that Quarto is installed, or you are running in the dev
> container.

</div>

### Output Formats

As you can see in the sidebar, this is also rendered into raw [GitHub
Flavored Markdown](https://quarto.org/docs/output-formats/gfm.html) with
Quarto.

This is configured in the top of this file’s source code. Other output
formats are used for other files in this repository. In order to ensure
the main GitHub `README.md` has the correct file, we specify a
`post-render` stage that copies the file over:

``` YAML
project:
  type: website
  title: "Personal Repository"
  output-dir: docs
  post-render: 
    - cp docs/README.md .

format:
  html: 
    theme: vapor

execute:
  freeze: auto

website:
  navbar:
    search: true
    left:
      - text: "Home"
        file: personal-repo.qmd
      - text: "Resume"
        file: quarto/resume.qmd 
```

As you can see, some other configuration is also specified, such as the
[HTML theme](https://quarto.org/docs/output-formats/html-themes.html),
\[navbar config\]
(https://quarto.org/docs/websites/website-navigation.html), and the
output dir.

### Extensions

These all are installed manually from the command line, and are not
included in the Dockerfile. This is because the whole extesion ecosystem
works through the `_extensions` directory.

To install the first extension, I ran:

``` bash
quarto add --no-prompt quarto-ext/include-code-files
```

#### Extension List

- [`include-code-files`](https://github.com/quarto-ext/include-code-files)

## GitHub Pages Configuration

There are many ways to deploy Quarto pages. You can read more about
choices in [rendering Quarto in
CI](https://quarto.org/docs/publishing/ci.html#rendering-for-ci) here. I
am choosing to render locally, and simply point GitHub pages to the
folder that is stored in git. This isn’t the gold standard in
reproducibility, but the trade off is that this is much faster to
iterate on.

### Initial Config

I ran this initially per [the
docs](https://quarto.org/docs/publishing/github-pages.html#publish-action):

``` bash
quarto publish gh-pages
```
